# ~/.vim/dein.toml                                    vim:tw=80:et:
#
# <url:./deinlazy.toml>
# <url:~/.vim/autoload/init.vim>
# <url:~/.cache/vim/dein/repos/github.com/>
# <url:~/.cache/vim/dein/.cache/>
#
# Fields [[plugin]]: repo rev augroup
#
# TODO if you use vim-textobj-multiblock
# TODO if you use vim-textobj-anyblock
# TODO if you use vim-textobj-between

# libraries/general                                                       {{{1

[[plugins]] # (lazy)
repo = 'Shougo/dein.vim'

[[plugins]] # (lazy)
repo = 'roxma/nvim-yarp'
name = 'yarp'
on_if = ''' has('nvim') || (v:version > 800 && has('python3')) '''
hook_post_update = ''' if (!has('nvim')) | call init#pip3installupgrade('pynvim') | endif '''

[[plugins]] # (lazy)
repo = 'roxma/vim-hug-neovim-rpc'
on_if = '!has("nvim")'
hook_post_update = ''' if (!has('nvim')) | call init#pip3installupgrade('pynvim') | endif '''

[[plugins]] # (lazy)
repo = 'inkarkat/vim-ingo-library'

[[plugins]] # (lazy)
repo = 'Shougo/context_filetype.vim'

# Plugins                                                                 {{{1

[[plugins]]
repo = 'wesQ3/vim-windowswap'
#on_event = 'WinNew'
hook_add = '''
let g:windowswap_map_keys = 0
'''

[[plugins]] # TODO: plugin
repo = 'powerman/vim-plugin-AnsiEsc'
name = 'AnsiEsc'

[[plugins]] # XXX plugin/
repo = 'tomtom/quickfixsigns_vim'
name = 'quickfixsigns'

[[plugins]] # XXX: plugin/
repo = 'scrooloose/nerdtree'

[[plugins]] # TODO: plugin/
repo = 'rkitover/vimpager'
merged = 0 # XXX why not?

[[plugins]] # XXX: plugin/
repo = 'Konfekt/FastFold'
augroup = 'FastFold'

[[plugins]] # XXX: plugin/
repo = 'arecarn/vim-fold-cycle'
hook_add = '''
let g:fold_cycle_default_mapping = 0
'''

[[plugins]] # XXX: plugin
repo = 'kshenoy/vim-origami'
#on_event = 'VimEnter'

[[plugins]] # XXX: plugin
repo = 'mattn/calendar-vim'
#on_event = 'VimEnter'

[[plugins]] # XXX plugin/
repo = 'tpope/vim-fugitive'

[[plugins]] # TODO: plugin/
repo = 'vim-scripts/utl.vim'

# motion/operator/textobject                                              {{{1

[[plugins]] # (lazy)
repo = 'kana/vim-operator-user'

[[plugins]] # (lazy)
repo = 'kana/vim-smartchr'

[[plugins]] # (lazy)
repo = 'vim-scripts/repeat.vim'

[[plugins]] # (lazy)
repo = 'kana/vim-textobj-user'

[[plugins]] # XXX: plugin/
repo = 'vim-scripts/camelcasemotion'

[[plugins]] # XXX: plugin/
repo = 'kana/vim-niceblock'

[[plugins]] # XXX: plugin/
repo = 'qstrahl/vim-dentures'

[[plugins]] # XXX: plugin/
repo = 'tyru/caw.vim'
depends = 'operator-user'
hook_add = '''
let g:caw_operator_keymappings = 1
'''

[[plugins]] # XXX: plugin/
repo = 'kana/vim-operator-replace'
depends = 'operator-user'

[[plugins]] # XXX: plugin/
repo = 'rhysd/vim-operator-surround'
depends = 'operator-user'

[[plugins]] # XXX: plugin/
repo = 'kana/vim-textobj-entire'
depends = 'textobj-user'

[[plugins]] # XXX: plugin/
repo = 'kana/vim-textobj-fold'
depends = 'textobj-user'

[[plugins]] # XXX: plugin/
repo = 'kana/vim-textobj-line'
depends = 'textobj-user'

[[plugins]] # XXX: plugin/
repo = 'kana/vim-textobj-syntax'
depends = 'textobj-user'

# YankRing                                                                {{{1

[[plugins]]
# TODO: special version v20.0
repo     = 'RobertAudi/YankRing.vim'
rev      = 'pr/v20.0'
augroup  = 'YankRing'
#on_event = 'VimEnter'

# Lazy                                                                    {{{1

[[plugins]] # (lazy)
repo = 'Xuyuanp/nerdtree-git-plugin'

[[plugins]] # (lazy)
repo = 'vim-airline/vim-airline-themes'

# deoplete etc.                                                           {{{1

[[plugins]]
repo = 'Shougo/deoplete.nvim'
#on_event = 'InsertEnter'
#depends = 'yarp'
hook_add = '''
autocmd InsertEnter * ++once call vimrc#deoplete_init()
'''

[[plugins]] # (lazy)
repo = 'tbodt/deoplete-tabnine'
build = './install.sh'
merged = 1

[[plugins]]
repo = 'Shougo/echodoc.vim'
#on_event = 'CompleteDone'
hook_add = '''
autocmd CompleteDone * ++once call echodoc#enable()
'''

[[plugins]]
repo = 'Shougo/neco-vim'
#depends = 'deoplete'
#on_ft = 'vim'

# syntax                                                                  {{{1

[[plugins]] # (lazy)
repo = 'altercation/vim-colors-solarized'
name = 'solarized'

[[plugins]] # (lazy)
repo = 'sheerun/vim-polyglot'

[[plugins]] # XXX: global plugin defines a few commands
repo = 'inkarkat/vim-SyntaxRange'
depends = 'ingo-library'
hook_add = '''
augroup SyntaxRange
  autocmd!
  autocmd Syntax * unlet! b:SyntaxRange_IncludedFiletypes
augroup END
'''

# Filetypes                                                               {{{1

[[plugins]]
repo = 'jamessan/vim-gnupg'
#on_path = ['\.gpg$','\.asc$','\.pgp$']

[[plugins]] # (lazy)
repo = 'hail2u/vim-css3-syntax'

[[plugins]]
repo = 'ElmCast/elm-vim'

[[plugins]]
repo = 'aiya000/vim-ghcid-quickfix'

#[[plugins]]
#repo = 'Twinside/vim-haskellFold'
#on_ft = 'haskell'

#[[plugins]] # (lazy)
#repo = 'vmchale/dhall-vim'
# XXX via polyglot(?)

[[plugins]]
repo = 'LnL7/vim-nix'

[[plugins]] # (lazy)
repo = 'thinca/vim-ft-diff_fold'
name = 'diff-fold'

[[plugins]] # (lazy)
repo = 'nfnty/vim-nftables'

[[plugins]] # (lazy)
repo = 'Kuniwak/vint'
on_if = 'executable("vint")'

[[plugins]] # (lazy)
repo = 'thinca/vim-ft-help_fold'
name = 'help-fold'

[[plugins]] # (lazy)
repo = 'machakann/vim-vimhelplint'
name = 'help-lint'

[[plugins]] # (lazy)
repo = 'pedrohdz/vim-yaml-folds'
name = 'yaml-fold'

[[plugins]] # (lazy)
repo = 'jceb/vim-orgmode'

[[plugins]] # (lazy)
repo = 'tmux-plugins/vim-tmux'

[[plugins]] # (lazy)
repo = 'aklt/plantuml-syntax'

# UML/slumlord {{{1

[[plugins]] # (lazy)
repo = 'scrooloose/vim-slumlord'
depends = 'plantuml-syntax'
# XXX: conflicting files ftplugin/plantuml.vim with plantuml-syntax.
# patched locally.
frozen = 1
# merged = 0

# vimwiki, taskwiki, taskwarrior                                          {{{1

[[plugins]] # (lazy)
repo = 'vimwiki/utils'
name = 'vimwiki-utils'

[[plugins]] # (lazy)
repo   = 'tbabej/taskwiki'
merged = 1
on_if  = ''' (!empty(init#py3module('tasklib'))) '''
hook_post_update = ''' call init#pip3installupgrade('tasklib') '''

[[plugins]] # XXX: plugin/
repo = 'vimwiki/vimwiki'

[[plugins]]
repo = 'xarthurx/taskwarrior.vim'
# includes airline integration, unite integration, ...

# vim-pandoc                                                              {{{1

[[plugins]]
repo = 'vim-pandoc/vim-pandoc-syntax'

[[plugins]]
repo = 'vim-pandoc/vim-pandoc'
#on_event = 'VimEnter'

[[plugins]]
repo = 'vim-pandoc/vim-pandoc-after'
merged = 0  # XXX conflicts.. plugin/pandoc.vim should go before pandoc-after.vim
